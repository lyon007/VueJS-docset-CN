import{$ as k,o as t,c as e,a as r,x as i,w as g,F,g as m,t as h,a0 as v,r as f,q as C,i as q,V as x,b as u}from"./chunks/framework.B2oIMGqn.js";import{g as B}from"./chunks/index.DjKJqAo0.js";const N={class:"demo"},S={__name:"ListBasic",setup(d){const l=k([1,2,3,4,5]);let a=l.length+1;function c(){l.splice(p(),0,a++)}function E(){l.splice(p(),1)}function p(){return Math.floor(Math.random()*l.length)}return(y,s)=>(t(),e("div",N,[r("button",{onClick:c},"在任意位置添加一项"),r("button",{onClick:E},"移除任意位置上的一项"),i(v,{name:"list",tag:"ul",style:{"margin-top":"20px"}},{default:g(()=>[(t(!0),e(F,null,m(l,n=>(t(),e("li",{key:n},h(n),1))),128))]),_:1})]))}},G={class:"demo"},T={__name:"ListMove",setup(d){const l=f([1,2,3,4,5]);let a=l.value.length+1;function c(){l.value.splice(p(),0,a++)}function E(){l.value.splice(p(),1)}function p(){return Math.floor(Math.random()*l.value.length)}function y(s){let n=s.length,o;for(;n!=0;)o=Math.floor(Math.random()*n),n--,[s[n],s[o]]=[s[o],s[n]];return s}return(s,n)=>(t(),e("div",G,[r("button",{onClick:c},"Add"),r("button",{onClick:E},"Remove"),r("button",{onClick:n[0]||(n[0]=o=>y(l.value))},"Shuffle"),i(v,{name:"list2",tag:"ul",style:{"margin-top":"20px"}},{default:g(()=>[(t(!0),e(F,null,m(l.value,o=>(t(),e("li",{class:"list-item",key:o},h(o),1))),128))]),_:1})]))}},D={class:"demo",style:{height:"265px"}},w=["data-index"],_={__name:"ListStagger",setup(d){const l=[{msg:"Bruce Lee"},{msg:"Jackie Chan"},{msg:"Chuck Norris"},{msg:"Jet Li"},{msg:"Kung Fury"}],a=f(""),c=C(()=>l.filter(s=>s.msg.toLowerCase().includes(a.value.toLowerCase())));function E(s){s.style.opacity=0,s.style.height=0}function p(s,n){B.to(s,{opacity:1,height:"1.6em",delay:s.dataset.index*.15,onComplete:n})}function y(s,n){B.to(s,{opacity:0,height:0,delay:s.dataset.index*.15,onComplete:n})}return(s,n)=>(t(),e("div",D,[q(r("input",{"onUpdate:modelValue":n[0]||(n[0]=o=>a.value=o),style:{"margin-bottom":"20px"}},null,512),[[x,a.value]]),i(v,{tag:"ul",css:!1,onBeforeEnter:E,onEnter:p,onLeave:y},{default:g(()=>[(t(!0),e(F,null,m(c.value,(o,b)=>(t(),e("li",{key:o.msg,"data-index":b},h(o.msg),9,w))),128))]),_:1})]))}},J=JSON.parse('{"title":"TransitionGroup","description":"","frontmatter":{},"headers":[{"level":2,"title":"和 <Transition> 的区别","slug":"differences-from-transition","link":"#differences-from-transition","children":[]},{"level":2,"title":"进入 / 离开动画","slug":"enter-leave-transitions","link":"#enter-leave-transitions","children":[]},{"level":2,"title":"移动动画","slug":"move-transitions","link":"#move-transitions","children":[{"level":3,"title":"自定义过渡组 class","slug":"custom-transitiongroup-classes","link":"#custom-transitiongroup-classes","children":[]}]},{"level":2,"title":"渐进延迟列表动画","slug":"staggering-list-transitions","link":"#staggering-list-transitions","children":[]}],"relativePath":"guide/built-ins/transition-group.md","filePath":"guide/built-ins/transition-group.md"}'),I={name:"guide/built-ins/transition-group.md"},A=Object.assign(I,{setup(d){return(l,a)=>(t(),e("div",null,[a[0]||(a[0]=u(`<h1 id="transitiongroup" tabindex="-1">TransitionGroup <a class="header-anchor" href="#transitiongroup" aria-label="Permalink to &quot;TransitionGroup {#transitiongroup}&quot;">​</a></h1><p><code>&lt;TransitionGroup&gt;</code> 是一个内置组件，用于对 <code>v-for</code> 列表中的元素或组件的插入、移除和顺序改变添加动画效果。</p><h2 id="differences-from-transition" tabindex="-1">和 <code>&lt;Transition&gt;</code> 的区别 <a class="header-anchor" href="#differences-from-transition" aria-label="Permalink to &quot;和 \`&lt;Transition&gt;\` 的区别 {#differences-from-transition}&quot;">​</a></h2><p><code>&lt;TransitionGroup&gt;</code> 支持和 <code>&lt;Transition&gt;</code> 基本相同的 props、CSS 过渡 class 和 JavaScript 钩子监听器，但有以下几点区别：</p><ul><li><p>默认情况下，它不会渲染一个容器元素。但你可以通过传入 <code>tag</code> prop 来指定一个元素作为容器元素来渲染。</p></li><li><p><a href="./transition.html#transition-modes">过渡模式</a>在这里不可用，因为我们不再是在互斥的元素之间进行切换。</p></li><li><p>列表中的每个元素都<strong>必须</strong>有一个独一无二的 <code>key</code> attribute。</p></li><li><p>CSS 过渡 class 会被应用在列表内的元素上，<strong>而不是</strong>容器元素上。</p></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>当在 <a href="/guide/essentials/component-basics.html#in-dom-template-parsing-caveats">DOM 内模板</a>中使用时，组件名需要写为 <code>&lt;transition-group&gt;</code>。</p></div><h2 id="enter-leave-transitions" tabindex="-1">进入 / 离开动画 <a class="header-anchor" href="#enter-leave-transitions" aria-label="Permalink to &quot;进入 / 离开动画 {#enter-leave-transitions}&quot;">​</a></h2><p>这里是 <code>&lt;TransitionGroup&gt;</code> 对一个 <code>v-for</code> 列表添加进入 / 离开动画的示例：</p><div class="language-template"><button title="Copy Code" class="copy"></button><span class="lang">template</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">TransitionGroup</span><span style="color:#B392F0;"> name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;list&quot;</span><span style="color:#B392F0;"> tag</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ul&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">li</span><span style="color:#B392F0;"> v-for</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">item </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> items</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;"> :</span><span style="color:#B392F0;">key</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">item</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    {{ item }}</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#79B8FF;">TransitionGroup</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">.list-enter-active</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#B392F0;">.list-leave-active</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">  transition</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">all</span><span style="color:#79B8FF;"> 0.5</span><span style="color:#F97583;">s</span><span style="color:#79B8FF;"> ease</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#B392F0;">.list-enter-from</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#B392F0;">.list-leave-to</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">  opacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">  transform</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">translateX</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">30</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div>`,10)),i(S),a[1]||(a[1]=u(`<h2 id="move-transitions" tabindex="-1">移动动画 <a class="header-anchor" href="#move-transitions" aria-label="Permalink to &quot;移动动画 {#move-transitions}&quot;">​</a></h2><p>上面的示例有一些明显的缺陷：当某一项被插入或移除时，它周围的元素会立即发生“跳跃”而不是平稳地移动。我们可以通过添加一些额外的 CSS 规则来解决这个问题：</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line highlighted"><span style="color:#B392F0;">.list-move</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">/* 对移动中的元素应用的过渡 */</span></span>
<span class="line"><span style="color:#B392F0;">.list-enter-active</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#B392F0;">.list-leave-active</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">  transition</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">all</span><span style="color:#79B8FF;"> 0.5</span><span style="color:#F97583;">s</span><span style="color:#79B8FF;"> ease</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">.list-enter-from</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#B392F0;">.list-leave-to</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#79B8FF;">  opacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">  transform</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">translateX</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">30</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#6A737D;">/* 确保将离开的元素从布局流中删除</span></span>
<span class="line highlighted"><span style="color:#6A737D;">  以便能够正确地计算移动的动画。 */</span></span>
<span class="line highlighted"><span style="color:#B392F0;">.list-leave-active</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line highlighted"><span style="color:#79B8FF;">  position</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">absolute</span><span style="color:#E1E4E8;">;</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">}</span></span></code></pre></div><p>现在它看起来好多了，甚至对整个列表执行洗牌的动画也都非常流畅：</p>`,4)),i(T),a[2]||(a[2]=u(`<p><a href="/examples/#list-transition">完整的示例</a></p><h3 id="custom-transitiongroup-classes" tabindex="-1">自定义过渡组 class <a class="header-anchor" href="#custom-transitiongroup-classes" aria-label="Permalink to &quot;自定义过渡组 class {#custom-transitiongroup-classes}&quot;">​</a></h3><p>你还可以通过向 <code>&lt;TransitionGroup&gt;</code> 传递 <code>moveClass</code> prop 为移动元素指定自定义过渡 class，类似于<a href="/guide/built-ins/transition.html#custom-transition-classes">自定义过渡 class</a>。</p><h2 id="staggering-list-transitions" tabindex="-1">渐进延迟列表动画 <a class="header-anchor" href="#staggering-list-transitions" aria-label="Permalink to &quot;渐进延迟列表动画 {#staggering-list-transitions}&quot;">​</a></h2><p>通过在 JavaScript 钩子中读取元素的 data attribute，我们可以实现带渐进延迟的列表动画。首先，我们把每一个元素的索引渲染为该元素上的一个 data attribute：</p><div class="language-template"><button title="Copy Code" class="copy"></button><span class="lang">template</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">TransitionGroup</span></span>
<span class="line"><span style="color:#B392F0;">  tag</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ul&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  :</span><span style="color:#B392F0;">css</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">false</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  @</span><span style="color:#B392F0;">before-enter</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">onBeforeEnter</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  @</span><span style="color:#B392F0;">enter</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">onEnter</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  @</span><span style="color:#B392F0;">leave</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">onLeave</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">li</span></span>
<span class="line"><span style="color:#B392F0;">    v-for</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">(item, index) </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> computedList</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    :</span><span style="color:#B392F0;">key</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">item.msg</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    :</span><span style="color:#B392F0;">data-index</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">index</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    {{ item.msg }}</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#79B8FF;">TransitionGroup</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div><p>接着，在 JavaScript 钩子中，我们基于当前元素的 data attribute 对该元素的进场动画添加一个延迟。以下是一个基于 <a href="https://gsap.com/" target="_blank" rel="noreferrer">GSAP library</a> 的动画示例：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> onEnter</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">el</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">done</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  gsap.</span><span style="color:#B392F0;">to</span><span style="color:#E1E4E8;">(el, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    opacity: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    height: </span><span style="color:#9ECBFF;">&#39;1.6em&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">    delay: el.dataset.index </span><span style="color:#F97583;">*</span><span style="color:#79B8FF;"> 0.15</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    onComplete: done</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre></div>`,8)),i(_),a[3]||(a[3]=u('<div class="composition-api"><p><a href="https://play.vuejs.org/#eNqlVMuu0zAQ/ZVRNklRm7QLWETtBW4FSFCxYkdYmGSSmjp28KNQVfl3xk7SFyvEponPGc+cOTPNOXrbdenRYZRHa1Nq3lkwaF33VEjedkpbOIPGeg6lajtnsYIeaq1aiOlSfAlqDOtG3L8SUchSSWNBcPrZwNdCAqVqTZND/KxdibBDjKGf3xIfWXngCNs9k4/Udu/KA3xWWnPz1zW0sOOP6CcnG3jv9ImIQn67SvrpUJ9IE/WVxPHsSkw97gbN0zFJZrB5grNPrskcLUNXac2FRZ0k3GIbIvxLSsVTq3bqF+otM5jMUi5L4So0SSicHplwOKOyfShdO1lariQo+Yy10vhO+qwoZkNFFKmxJ4Gp6ljJrRe+vMP3yJu910swNXqXcco1h0pJHDP6CZHEAAcAYMydwypYCDAkJRdX6Sts4xGtUDAKotIVs9Scpd4q/A0vYJmuXo5BSm7JOIEW81DVo77VR207ZEf8F23LB23T+X9VrbNh82nn6UAz7ASzSCeANZe0AnBctIqqbIoojLCIIBvoL5pJw31DH7Ry3VDKsoYinSii4ZyXxhBQM2Fwwt58D7NeoB8QkXfDvwRd2XtceOsCHkwc8KCINAk+vADJppQUFjZ0DsGVGT3uFn1KSjoPeKLoaYtvCO/rIlz3vH9O5FiU/nXny/pDT6YGKZngg0/Zg1GErrMbp6N5NHxJFi3N/4dRkj5IYf5ULxCmiPJpI4rIr4kHimhvbWfyLHOyOzQpNZZ57jXNy4nRGFLTR/0fWBqe7w==" target="_blank" rel="noreferrer">在演练场中查看完整示例</a></p></div><div class="options-api"><p><a href="https://play.vuejs.org/#eNqtVE2P0zAQ/SujXNqgNmkPcIjaBbYCJKg4cSMcTDJNTB07+KNsVfW/M3aabNpyQltViT1vPPP8Zian6H3bJgeHURatTKF5ax9yyZtWaQuVYS3stGpg4peTXOayUNJYEJwea/ieS4ATNKbKYPKoXYGwRZzAeTYGPrNizxE2NZO30KZ2xR6+Kq25uTuGFrb81vrFyQo+On0kIJc/PCV8CmxL3DEnLJy8e8ksm8bdGkCjdVr2O4DfDvWRgtGN/JYC0SOkKVTTOotl1jv3hi3d+DngENILkey4sKinU26xiWH9AH6REN/Eqq36g3rDDE7jhMtCuBLN1NbcJIFEHN9RaNDWqjQDAyUfcac0fpA+CYoRCRSJsUeBiWpZwe2RSrK4w2rkVe2rdYG6LD5uH3EGpZI4iuurTdwDNBjpRJclg+UlhP914UnMZfIGm8kIKVEwciYivhoGLQlQ4hO8gkWyfD1yVHJDKgu0mAUmPXLuxRkYb5Ed8H8YL/7BeGx7Oa6hkLmk/yodBoo21BKtYBZpB7DikroKDvNGUeZ1HoVmyCNIO/ibZtJwy5X8pJVru9CWVeTpRB51+6wwhgw7Jgz2tnc/Q6/M0ZeWwKvmGZye0Wu78PIGexC6swdGxEnw/q6HOYUkt9DwMwhKxfS6GpY+KPHc45G8+6EYAV7reTjucf/uwUtSmvvTME1wDuISlVTwTqf0RiiyrtKR0tEs6r5l84b645dRkr5zoT8oXwBMHg2Tlke+jbwhj2prW5OlqZPtvkroYqnH3lK9nLgI46scnf8Cn22kBA==" target="_blank" rel="noreferrer">在演练场中查看完整示例</a></p></div><hr><p><strong>参考</strong></p><ul><li><a href="/api/built-in-components.html#transitiongroup"><code>&lt;TransitionGroup&gt;</code> API 参考</a></li></ul>',5))]))}});export{J as __pageData,A as default};
